<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Design</title>
    <link rel="stylesheet" href="../css style/designstyle.css" />
    <!-- Include Design Stylesheet -->
    <link rel="stylesheet" href="../css style/navbar_style.css" />
    <link rel="stylesheet" href="../css style/footerstyle.css" />

    <!-- Boxicon -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/boxicons@latest/css/boxicons.min.css"
    />

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&display=swap"
      rel="stylesheet"
    />

    <script
      src="https://kit.fontawesome.com/26bb1f1303.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div id="navbar-container">
      <script>
        fetch("/BujinsBatik/pages/navbar.html")
          .then((response) => response.text())
          .then((data) => {
            document.getElementById("navbar-container").innerHTML = data;

            // Attach event listeners AFTER navbar is loaded
            const showSidebar = () => {
              document.querySelector(".sidebar").style.display = "flex";
            };

            const hideSidebar = () => {
              document.querySelector(".sidebar").style.display = "none";
            };

            document
              .querySelector(".menu-button")
              .addEventListener("click", showSidebar);
            document
              .querySelector(".sidebar li")
              .addEventListener("click", hideSidebar);
            // Handle dynamic Login/Logout
            const authLink = document.getElementById("authLink");
            const authLinkDesktop = document.getElementById("authLinkDesktop");
            const currentUser = localStorage.getItem("currentUser");

            if (currentUser) {
              authLink.textContent = "Logout";
              authLink.href = "#";
              authLink.addEventListener("click", () => {
                localStorage.removeItem("currentUser");
                alert("You have been logged out!");
                window.location.reload();
              });

              authLinkDesktop.textContent = "Logout";
              authLinkDesktop.href = "#";
              authLinkDesktop.addEventListener("click", () => {
                localStorage.removeItem("currentUser");
                alert("You have been logged out!");
                window.location.reload();
              });
            } else {
              authLink.textContent = "Login";
              authLink.href = "/BujinsBatik/users/login.html";

              authLinkDesktop.textContent = "Login";
              authLinkDesktop.href = "/BujinsBatik/users/login.html";
            }
          })
          .catch((error) => console.error("Error loading navbar:", error));
      </script>
    </div>

    <!-- Product Section 1 -->
    <section class="product">
      <div class="product-text">
        <h1>Sri Naga</h1>
        <p>
          Sri Naga I and Sri Naga II are twin dragons which are the 2024
          masterpiece. Inspired by the Year of the Dragon according to Lunar
          Calendar, these two masterpieces brings strong energy. Both pieces are
          suitable to be transformed into garments or paintings. Although our
          collectors may choose to keep the fabric as is.
        </p>
        <button class="see-more-btn" data-popup="product1-popup">
          See More
        </button>
      </div>
      <div class="product-img">
        <img src="../img/Batik/Sri Naga (1).png" alt="Sri Naga" />
      </div>
    </section>

    <!-- Product Section 2 -->
    <section class="product2">
      <div class="product2-img">
        <img src="../img/Batik/Satin Silk (9).png" alt="Premium Silk Batik" />
      </div>
      <div class="product2-text">
        <h1>Premium Silk Batik</h1>
        <p>
          Indulge in the timeless elegance of our exquisite handcrafted silk
          batik. Each piece is a unique work of art, meticulously crafted by
          skilled artisans using traditional batik techniques. Made from the
          finest silk, this scarf offers an unparalleled combination of luxury,
          style, and cultural heritage.
        </p>
        <button class="see-more-btn" data-popup="product2-popup">
          See More
        </button>
      </div>
    </section>

    <!-- Popup Section (Hidden by default) -->
    <div class="popup-overlay" id="product1-popup">
      <div class="popup-content">
        <button class="close-btn">&times;</button>
        <h2>Sri Naga</h2>
        <div class="carousel">
          <img src="../img/Batik/Sri Naga (1).png" alt="Sri Naga Detail 1" />
          <img src="../img/Batik/Sri Naga (2).png" alt="Sri Naga Detail 2" />
        </div>
      </div>
    </div>

    <div class="popup-overlay" id="product2-popup">
      <div class="popup-content">
        <button class="close-btn">&times;</button>
        <h2>Premium Silk Batik</h2>
        <div class="carousel">
          <img
            src="../img/Batik/Satin Silk (1).png"
            alt="Silk Batik Detail 1"
          />
          <img
            src="../img/Batik/Satin Silk (2).png"
            alt="Silk Batik Detail 2"
          />
          <img
            src="../img/Batik/Satin Silk (3).png"
            alt="Silk Batik Detail 3"
          />
          <img
            src="../img/Batik/Satin Silk (4).png"
            alt="Silk Batik Detail 4"
          />
          <img
            src="../img/Batik/Satin Silk (6).png"
            alt="Silk Batik Detail 6"
          />
          <img
            src="../img/Batik/Satin Silk (7).png"
            alt="Silk Batik Detail 7"
          />
          <img
            src="../img/Batik/Satin Silk (8).png"
            alt="Silk Batik Detail 8"
          />
          <img
            src="../img/Batik/Satin Silk (9).png"
            alt="Silk Batik Detail 9"
          />
        </div>
      </div>
    </div>

    <footer id="footer"></footer>
    <script>
      // footer script
      fetch("../pages/footer.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("footer").innerHTML = data;
        })
        .catch((error) => console.error("Error loading footer:", error));

      // popup script
      const seeMoreButtons = document.querySelectorAll(".see-more-btn");
      const popups = document.querySelectorAll(".popup-overlay");
      const closeButtons = document.querySelectorAll(".close-btn");

      seeMoreButtons.forEach((button) => {
        button.addEventListener("click", () => {
          const popupId = button.getAttribute("data-popup");
          document.getElementById(popupId).style.display = "flex";
        });
      });

      closeButtons.forEach((button) => {
        button.addEventListener("click", () => {
          button.closest(".popup-overlay").style.display = "none";
        });
      });

      popups.forEach((popup) => {
        popup.addEventListener("click", (event) => {
          if (event.target === popup) {
            popup.style.display = "none";
          }
        });
      });
    </script>
  </body>
</html>
